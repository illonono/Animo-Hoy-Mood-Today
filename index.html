<!DOCTYPE html>
<html lang="es">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-GYSHZCXK38"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
  
    gtag('config', 'G-GYSHZCXK38');
  </script>

  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Ánimo Hoy — Mood Today: pronóstico emocional diario con paletas de color para las capitales del mundo." />

  <!-- Open Graph -->
  <meta property="og:title" content="Ánimo Hoy – Mood Today" />
  <meta property="og:description" content="Descubre tu estado de ánimo con paletas de color basadas en tu ciudad." />
  <meta property="og:image" content="https://illonono.github.io/Animo-Hoy-Mood-Today/preview.png" />
  <meta property="og:url" content="https://illonono.github.io/Animo-Hoy-Mood-Today/" />
  <meta property="og:type" content="website" />

  <!-- Favicon (usa URL absoluta) -->
  <link rel="icon" href="https://illonono.github.io/Animo-Hoy-Mood-Today/favicon.ico" />

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="Ánimo Hoy – Mood Today" />
  <meta name="twitter:description" content="Pronóstico emocional diario con paletas de color para tu ciudad." />
  <meta name="twitter:image" content="https://illonono.github.io/Animo-Hoy-Mood-Today/preview.png" />

  <title>Ánimo Hoy - Mood Today</title>

  <!-- Fonts / Estilos -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=IM+Fell+English&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />


  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>
</head>
  
<body>
  <!-- Panel izquierdo (columna 1) -->
  <div class="panel-lateral panel-izquierda"></div>

  <!-- Contenido central (columna 2) -->
  <div class="contenido-central">
    <header class="header">
      <div class="wrapper">
        <div class="header__inner">
          <h1 class="header__logo">Ánimo Hoy – Mood Today</h1>
          <nav class="header__nav">
            <ul class="nav__list">
              <li class="nav__item"><a href="#home" class="nav__link">Inicio</a></li>
              <li class="nav__item"><a href="#seleccion" class="nav__link">Emociones</a></li>
              <li class="nav__item"><a href="#footer" class="nav__link">Acerca</a></li>
            </ul>
          </nav>
        </div>
      </div>
    </header>
  
  <main class="main">
    <section id="home" class="hero">
    <h2>Descubre tus matices de ánimo hoy dependiendo del clima en dónde vives</h2>
      
    <div class="selector">
      <input list="cityList" id="citySelector" placeholder="¿De dónde eres?" />
      
      <datalist id="cityList">
        <option value="Abu Dabi (Emiratos Árabes Unidos)"></option>
        <option value="Acra (Ghana)"></option>
        <option value="Adís Abeba (Etiopía)"></option>
        <option value="Argel (Argelia)"></option>
        <option value="Amán (Jordania)"></option>
        <option value="Ámsterdam (Países Bajos)"></option>
        <option value="Andorra la Vieja (Andorra)"></option>
        <option value="Ankara (Turquía)"></option>
        <option value="Antananarivo (Madagascar)"></option>
        <option value="Apia (Samoa)"></option>
        <option value="Asjabad (Turkmenistán)"></option>
        <option value="Asunción (Paraguay)"></option>
        <option value="Astaná (Kazajistán)"></option>
        <option value="Atenas (Grecia)"></option>
        <option value="Bagdad (Irak)"></option>
        <option value="Bakú (Azerbaiyán)"></option>
        <option value="Bamako (Malí)"></option>
        <option value="Bandar Seri Begawan (Brunéi)"></option>
        <option value="Banjul (Gambia)"></option>
        <option value="Bangkok (Tailandia)"></option>
        <option value="Bangui (República Centroafricana)"></option>
        <option value="Barcelona (España)"></option>
        <option value="Basseterre (San Cristóbal y Nieves)"></option>
        <option value="Beijing (China)"></option>
        <option value="Beirut (Líbano)"></option>
        <option value="Belgrado (Serbia)"></option>
        <option value="Belmopán (Belice)"></option>
        <option value="Berlín (Alemania)"></option>
        <option value="Berna (Suiza)"></option>
        <option value="Biskek (Kirguistán)"></option>
        <option value="Bisáu (Guinea-Bisáu)"></option>
        <option value="Bogotá (Colombia)"></option>
        <option value="Brasilia (Brasil)"></option>
        <option value="Bratislava (Eslovaquia)"></option>
        <option value="Brazzaville (República del Congo)"></option>
        <option value="Bridgetown (Barbados)"></option>
        <option value="Bruselas (Bélgica)"></option>
        <option value="Bucarest (Rumanía)"></option>
        <option value="Budapest (Hungría)"></option>
        <option value="Buenos Aires (Argentina)"></option>
        <option value="Bujumbura (Burundi)"></option>
        <option value="El Cairo (Egipto)"></option>
        <option value="Canberra (Australia)"></option>
        <option value="Caracas (Venezuela)"></option>
        <option value="Chisináu (Moldavia)"></option>
        <option value="Colombo (Sri Lanka)"></option>
        <option value="Conakri (Guinea)"></option>
        <option value="Copenhague (Dinamarca)"></option>
        <option value="Djibouti (Yibuti)"></option>
        <option value="Doha (Catar)"></option>
        <option value="Dublín (Irlanda)"></option>
        <option value="Ereván (Armenia)"></option>
        <option value="Gaborone (Botsuana)"></option>
        <option value="Georgetown (Guyana)"></option>
        <option value="Ciudad de Guatemala (Guatemala)"></option>
        <option value="Hanói (Vietnam)"></option>
        <option value="Harare (Zimbabue)"></option>
        <option value="Helsinki (Finlandia)"></option>
        <option value="Honiara (Islas Salomón)"></option>
        <option value="Islamabad (Pakistán)"></option>
        <option value="Yakarta (Indonesia)"></option>
        <option value="Jamestown (Santa Elena)"></option>
        <option value="Jerusalén (Israel)"></option>
        <option value="Kabul (Afganistán)"></option>
        <option value="Kampala (Uganda)"></option>
        <option value="Katmandú (Nepal)"></option>
        <option value="Jartum (Sudán)"></option>
        <option value="Kiev (Ucrania)"></option>
        <option value="Kingston (Jamaica)"></option>
        <option value="Kinshasa (R. D. del Congo)"></option>
        <option value="Kuala Lumpur (Malasia)"></option>
        <option value="Kuwait (Kuwait)"></option>
        <option value="La Habana (Cuba)"></option>
        <option value="La Paz (Bolivia)"></option>
        <option value="Lisboa (Portugal)"></option>
        <option value="Liubliana (Eslovenia)"></option>
        <option value="Lima (Perú)"></option>
        <option value="Lilongüe (Malaui)"></option>
        <option value="Londres (Reino Unido)"></option>
        <option value="Luanda (Angola)"></option>
        <option value="Lusaka (Zambia)"></option>
        <option value="Luxemburgo (Luxemburgo)"></option>
        <option value="Madrid (España)"></option>
        <option value="Malabo (Guinea Ecuatorial)"></option>
        <option value="Managua (Nicaragua)"></option>
        <option value="Manama (Baréin)"></option>
        <option value="Manila (Filipinas)"></option>
        <option value="Maputo (Mozambique)"></option>
        <option value="Minsk (Bielorrusia)"></option>
        <option value="Mogadiscio (Somalia)"></option>
        <option value="Mónaco (Mónaco)"></option>
        <option value="Monrovia (Liberia)"></option>
        <option value="Montevideo (Uruguay)"></option>
        <option value="Moroni (Comoras)"></option>
        <option value="Moscú (Rusia)"></option>
        <option value="Mascate (Omán)"></option>
        <option value="Nairobi (Kenia)"></option>
        <option value="Nassau (Bahamas)"></option>
        <option value="Ndjamena (Chad)"></option>
        <option value="Nueva Delhi (India)"></option>
        <option value="Niamey (Níger)"></option>
        <option value="Nicosia (Chipre)"></option>
        <option value="Nuakchot (Mauritania)"></option>
        <option value="Oslo (Noruega)"></option>
        <option value="Ottawa (Canadá)"></option>
        <option value="Ciudad de Panamá (Panamá)"></option>
        <option value="París (Francia)"></option>
        <option value="Phnom Penh (Camboya)"></option>
        <option value="Podgorica (Montenegro)"></option>
        <option value="Puerto Príncipe (Haití)"></option>
        <option value="Port Louis (Mauricio)"></option>
        <option value="Port Moresby (Papúa Nueva Guinea)"></option>
        <option value="Porto Novo (Benín)"></option>
        <option value="Praia (Cabo Verde)"></option>
        <option value="Praga (República Checa)"></option>
        <option value="Pristina (Kosovo)"></option>
        <option value="Pionyang (Corea del Norte)"></option>
        <option value="Quito (Ecuador)"></option>
        <option value="Rabat (Marruecos)"></option>
        <option value="Reikiavik (Islandia)"></option>
        <option value="Riga (Letonia)"></option>
        <option value="Roma (Italia)"></option>
        <option value="Roseau (Dominica)"></option>
        <option value="San José (Costa Rica)"></option>
        <option value="San Salvador (El Salvador)"></option>
        <option value="Saná (Yemen)"></option>
        <option value="Santiago (Chile)"></option>
        <option value="Saint George’s (Granada)"></option>
        <option value="Saint John's (Antigua y Barbuda)"></option>
        <option value="Santo Domingo (R. Dominicana)"></option>
        <option value="Sarajevo (Bosnia y Herzegovina)"></option>
        <option value="Seúl (Corea del Sur)"></option>
        <option value="Singapur (Singapur)"></option>
        <option value="Skopie (Macedonia del Norte)"></option>
        <option value="Sofía (Bulgaria)"></option>
        <option value="Estocolmo (Suecia)"></option>
        <option value="Tallin (Estonia)"></option>
        <option value="Tarawa (Kiribati)"></option>
        <option value="Taskent (Uzbekistán)"></option>
        <option value="Teherán (Irán)"></option>
        <option value="Tegucigalpa (Honduras)"></option>
        <option value="Thimphu (Bután)"></option>
        <option value="Tiflis (Georgia)"></option>
        <option value="Tirana (Albania)"></option>
        <option value="Tokio (Japón)"></option>
        <option value="Trípoli (Libia)"></option>
        <option value="Túnez (Túnez)"></option>
        <option value="Ulán Bator (Mongolia)"></option>
        <option value="Uagadugú (Burkina Faso)"></option>
        <option value="Vaduz (Liechtenstein)"></option>
        <option value="La Valeta (Malta)"></option>
        <option value="Victoria (Seychelles)"></option>
        <option value="Viena (Austria)"></option>
        <option value="Vientián (Laos)"></option>
        <option value="Vilna (Lituania)"></option>
        <option value="Varsovia (Polonia)"></option>
        <option value="Wellington (Nueva Zelanda)"></option>
        <option value="Windhoek (Namibia)"></option>
        <option value="Yamusukro (Costa de Marfil)"></option>
        <option value="Yaundé (Camerún)"></option>
        <option value="Zagreb (Croacia)"></option>
      </datalist>
    </div>
  </section>

  <div class="main-content">
    <div id="google_translate_element"></div>
    <div class="mood-background"></div>

  <section id="seleccion" class="mood">
<div class="chart-grid">
  <!-- Input + label + barra (por cada emoción) -->
  <div class="item">
    <input type="radio" id="felicidad" name="layer" checked>
    <label for="felicidad">Felicidad</label>
    <div class="bar felicidad" data-value="0"><div class="bar-fill">0%</div></div>
  </div>
  
  <div class="item">
    <input type="radio" id="calma" name="layer">
    <label for="calma">Calma</label>
    <div class="bar calma" data-value="0"><div class="bar-fill">0%</div></div>
  </div>

  <div class="item">
    <input type="radio" id="motivacion" name="layer">
    <label for="motivacion">Motivación</label>
    <div class="bar motivacion" data-value="0"><div class="bar-fill">0%</div></div>
  </div>

  <div class="item">
    <input type="radio" id="estres" name="layer">
    <label for="estres">Estrés</label>
    <div class="bar estres" data-value="0"><div class="bar-fill">0%</div></div>
  </div>

  <div class="item">
    <input type="radio" id="ansiedad" name="layer">
    <label for="ansiedad">Ansiedad</label>
    <div class="bar ansiedad" data-value="0"><div class="bar-fill">0%</div></div>
  </div>

  <div class="item">
    <input type="radio" id="energia" name="layer">
    <label for="energia">Energía</label>
    <div class="bar energia" data-value="0"><div class="bar-fill">0%</div></div>
  </div>

  <div class="item">
    <input type="radio" id="concentracion" name="layer">
    <label for="concentracion">Concentración</label>
    <div class="bar concentracion" data-value="0"><div class="bar-fill">0%</div></div>
  </div>

  <div class="item">
    <input type="radio" id="creatividad" name="layer">
    <label for="creatividad">Creatividad</label>
    <div class="bar creatividad" data-value="0"><div class="bar-fill">0%</div></div>
  </div>
</div>

    
<!-- Botón -->
<button class="share-btn">Compartir mi estado</button>


<!-- Modal para compartir -->
<div id="share-modal" class="modal hidden" role="dialog" aria-hidden="true" aria-labelledby="share-modal-title">
  <div class="modal-content">
    <h2 id="share-modal-title">Mi pronóstico emocional de hoy</h2>
    <div class="share-chart" id="shareChart" aria-live="polite"></div>

    <div class="modal-buttons" style="margin-top:1rem; display:flex; gap:0.5rem; justify-content:center;">
      <button type="button" data-action="download" class="modal-btn">Descargar imagen</button>
      <button type="button" data-action="close" class="modal-btn">Cerrar</button>
    </div>
  </div>
</div>

</section>
  </main>
  
<footer id="footer" class="footer">
  <p class="footer__text">© 2025 Ánimo Hoy — Mood Today. Herramienta curiosa de pronósticos emocionales "basados" en la climatología de cada ciudad</p>
  <p class="footer__credit">Desarrollado por illonono • Investigación realizada en climatología aplicada en psicología.</p>
</footer>



    
  <!-- JavaScript -->
<script>
  function getRandomBars(min = 0, max = 100) {
    return Array.from({ length: 8 }, () =>
      Math.floor(Math.random() * (max - min + 1)) + min
    );
  }

    function debounce(fn, wait = 300) {
    let t;
    return function(...args) {
      clearTimeout(t);
      t = setTimeout(() => fn.apply(this, args), wait);
    };
  }
  
  window.addEventListener('DOMContentLoaded', () => {
    const cityInput = document.getElementById('citySelector');
    document.querySelector('.share-btn').addEventListener('click', openModal);
  
    if (cityInput) {
      const debouncedApply = debounce(() => {
        if (!cityInput.value || cityInput.value.trim() === '') return;
        applyRandomBars();
      }, 400); // puedes ajustar el tiempo si quieres
  
      cityInput.addEventListener('input', debouncedApply);
  
      // opcional: mantener change por si se selecciona con Enter o clic
      cityInput.addEventListener('change', () => {
        if (!cityInput.value || cityInput.value.trim() === '') return;
        applyRandomBars();
      });
    }

    // función que aplica los valores aleatorios a las barras
    function applyRandomBars() {
      const randomBars = getRandomBars();
      document.querySelectorAll('.bar').forEach((bar, i) => {
        const v = randomBars[i];
        const fill = bar.querySelector('.bar-fill');

        // Reinicia animación
        fill.style.height = '0%';
        fill.textContent = '';
        fill.style.opacity = '0';

        setTimeout(() => {
          const pixelMinimo = '14px';
          const porcentajeReal = v + '%';
          fill.style.height = v < 4 ? pixelMinimo : porcentajeReal;
          fill.textContent = v + '%';
          fill.style.opacity = '1';
          bar.setAttribute('data-value', v);
        }, 100);
      });
    }

    // Listener: usar 'input' detecta escritura y selección desde datalist
    if (cityInput) {
      cityInput.addEventListener('input', () => {
        // opcional: ignorar entradas vacías
        if (!cityInput.value || cityInput.value.trim() === '') return;
        applyRandomBars();
      });

      // Si quieres disparar también cuando se pierde el foco y hay valor:
      cityInput.addEventListener('change', () => {
        if (!cityInput.value || cityInput.value.trim() === '') return;
        applyRandomBars();
      });
    }


        function applyRandomBars() {
      const randomBars = getRandomBars();
    
      document.querySelectorAll('.bar').forEach((bar, i) => {
        const v = randomBars[i];
        const fill = bar.querySelector('.bar-fill');
    
        fill.style.height = '0%';
        fill.textContent = '';
        fill.style.opacity = '0';
    
        setTimeout(() => {
          const pixelMinimo = '14px';
          const porcentajeReal = v + '%';
          fill.style.height = v < 4 ? pixelMinimo : porcentajeReal;
          fill.textContent = v + '%';
          fill.style.opacity = '1';
          bar.setAttribute('data-value', v);
        }, 100);
      });
    }
    
    // modal / compartir (defensas por si no existe)
    function openModal() {
      const chart = document.getElementById('shareChart');
      if (!chart) return;
      chart.innerHTML = '';

      document.querySelectorAll('.bar').forEach(bar => {
        const mood = bar.classList[1] || 'mood';
        const value = bar.getAttribute('data-value') || 0;
        const colorVar = '--c-' + mood;
        const color = getComputedStyle(document.documentElement).getPropertyValue(colorVar) || '#999';

        const wrapper = document.createElement('div');
        wrapper.className = 'share-bar';
        wrapper.innerHTML = `
          <span>${mood.charAt(0).toUpperCase() + mood.slice(1)}: ${value}%</span>
          <div class="share-bar-fill" style="width:${value}%; background:${color}"></div>
        `;
        chart.appendChild(wrapper);
      });

      const modal = document.getElementById('share-modal');
      if (modal) modal.classList.remove('hidden');
    }

    function closeModal() {
      const modal = document.getElementById('share-modal');
      if (modal) modal.classList.add('hidden');
    }

    function downloadImage() {
      const target = document.querySelector('.modal-content');
      if (!target || !window.html2canvas) return;
      html2canvas(target).then(canvas => {
        const link = document.createElement('a');
        link.download = 'estado-animo.png';
        link.href = canvas.toDataURL();
        link.click();
      });
    }

    if (shareBtn) shareBtn.addEventListener('click', openModal);
    // botones del modal (delegación simple)
    document.addEventListener('click', (e) => {
      if (e.target.matches('#share-modal button') && e.target.textContent.includes('Cerrar')) closeModal();
      if (e.target.matches('#share-modal button') && e.target.textContent.includes('Descargar')) downloadImage();
    });

  }); // fin DOMContentLoaded
</script>

<!-- corregir google translate init (sin 'w' extra) -->
<script type="text/javascript">
  function googleTranslateElementInit() {
    new google.translate.TranslateElement({
      pageLanguage: 'es',
      layout: google.translate.TranslateElement.InlineLayout.SIMPLE
    }, 'google_translate_element');
  }
</script>
<script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

    
  </div>

  <!-- Panel derecho (columna 3) -->
  <div class="panel-lateral panel-derecha"></div>
  </body>
  </html>









